# ============================================================================
# Dev Team Platform Environment Configuration
# ============================================================================
# Copy this file to .env and update the values with your actual configuration
# Required variables are marked as REQUIRED
# Optional variables can be left empty or removed

# ============================================================================
# AI API KEYS (REQUIRED)
# ============================================================================

# Anthropic Claude API Key (REQUIRED)
# Get your key from: https://console.anthropic.com/
# Format: sk-ant-api03-...
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Tavily Search API Key (OPTIONAL)
# Used for web search capabilities by agents
# Get your key from: https://tavily.com/
TAVILY_API_KEY=your-tavily-api-key-here

# ============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# ============================================================================

# JWT Secret (REQUIRED)
# Use a secure random string (minimum 32 characters)
# Generate with: openssl rand -hex 32
JWT_SECRET=your-very-secure-jwt-secret-minimum-32-characters

# JWT Token Expiration (OPTIONAL)
# Default: 15 minutes for access tokens, 7 days for refresh tokens
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database URL (Auto-configured for Docker)
# For external database, update this URL
DATABASE_URL=postgresql://devteam:devteam_secure_password@postgres:5432/dev_team_platform

# Redis URL (Auto-configured for Docker)
REDIS_URL=redis://redis:6379

# NATS URL (Auto-configured for Docker)
NATS_URL=nats://nats:4222

# ============================================================================
# SERVICE CONFIGURATION
# ============================================================================

# Environment (development/production)
NODE_ENV=development

# Logging Level (debug/info/warn/error)
LOG_LEVEL=info

# Base URL for the platform
BASE_URL=http://localhost:3004

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================

# Maximum concurrent tasks per agent
MAX_CONCURRENT_TASKS=3

# Agent timeout in milliseconds (30 seconds)
AGENT_TIMEOUT=30000

# Agent working directory
WORKING_DIRECTORY=/app/workspace

# ============================================================================
# API GATEWAY CONFIGURATION
# ============================================================================

# CORS Origins (comma-separated for multiple origins)
# Use "*" for development, specific domains for production
CORS_ORIGINS=*

# Rate limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100

# ============================================================================
# OAUTH CONFIGURATION (OPTIONAL)
# ============================================================================
# Configure these if you want GitHub/Google OAuth login

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Google OAuth  
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# ============================================================================
# Configure these if you want email notifications and password reset

# SMTP Server Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ============================================================================
# MONITORING CONFIGURATION (OPTIONAL)
# ============================================================================

# Enable metrics collection
ENABLE_METRICS=true
METRICS_PORT=9090

# Grafana admin password (only used with monitoring profile)
GF_SECURITY_ADMIN_PASSWORD=admin

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# Frontend environment
REACT_APP_API_URL=http://localhost:3000
REACT_APP_WS_URL=ws://localhost:3000

# ============================================================================
# DEVELOPMENT OVERRIDES
# ============================================================================
# These can be uncommented for development customization

# Custom ports (if defaults conflict)
# API_GATEWAY_PORT=3000
# ORCHESTRATOR_PORT=3001
# PROJECT_SERVICE_PORT=3002
# TASK_SERVICE_PORT=3003
# AUTH_SERVICE_PORT=3004
# FRONTEND_PORT=3080

# Database overrides for external databases
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=dev_team_platform
# POSTGRES_USER=devteam
# POSTGRES_PASSWORD=your-secure-password

# Redis overrides for external Redis
# REDIS_HOST=localhost
# REDIS_PORT=6379

# ============================================================================
# PRODUCTION OVERRIDES
# ============================================================================
# Uncomment and configure these for production deployment

# Production security settings
# NODE_ENV=production
# LOG_LEVEL=warn
# CORS_ORIGINS=https://yourdomain.com
# BASE_URL=https://yourdomain.com
# REACT_APP_API_URL=https://api.yourdomain.com
# REACT_APP_WS_URL=wss://api.yourdomain.com

# Production performance settings
# MAX_CONCURRENT_TASKS=6
# AGENT_TIMEOUT=60000
# RATE_LIMIT_MAX=200

# SSL/TLS Configuration (for production)
# SSL_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/dev-team/cert.pem
# SSL_KEY_PATH=/etc/ssl/dev-team/key.pem

# ============================================================================
# QUICK START CHECKLIST
# ============================================================================
# 1. Get your Anthropic API key from https://console.anthropic.com/
# 2. Replace "your-anthropic-api-key-here" with your actual key
# 3. Generate a secure JWT secret (32+ characters)
# 4. Optionally configure OAuth providers and email settings
# 5. Save this file as .env (remove .example extension)
# 6. Run: docker-compose up --build -d
# 7. Access dashboard at: http://localhost:3080
# 8. Login with: admin@devteam.local / admin123
